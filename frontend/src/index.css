@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    /* Уменьшение масштаба на 20% */
    font-size: 80%;
  }

  body {
    @apply text-black;
    margin: 0;
    padding: 0;
    font-family: system-ui, -apple-system, sans-serif;
    background-color: #292929;
    /* Темный фон по бокам */
    min-height: 100vh;
    width: 100%;
  }

  #root {
    min-height: 100vh;
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    width: 100%;
  }
}

@layer components {

  /* Контейнер с белым фоном - 8 колонок из 12, по центру */
  .quiz-container {
    grid-column: 3 / 11;
    /* Колонки 3-10 (8 колонок), выравнивание по центру */
    background-color: #ffffff;
    min-height: 100vh;
    /* font-size: 80% на html автоматически уменьшит на 20% */
    padding: 3rem 2rem;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  /* Адаптивность для мобильных */
  @media (max-width: 768px) {
    #root {
      grid-template-columns: 1fr;
      /* Одна колонка на мобильных */
    }

    .quiz-container {
      grid-column: 1;
      /* Занимает всю ширину */
      padding: 2rem 1rem;
    }

    .step-heading {
      font-size: 2rem !important;
    }

    .step-description {
      font-size: 1.125rem !important;
    }
  }

  /* Планшеты */
  @media (min-width: 769px) and (max-width: 1024px) {
    .quiz-container {
      grid-column: 2 / 12;
      /* 10 колонок на планшетах */
      padding: 2.5rem 1.5rem;
    }
  }

  .quiz-button-primary {
    @apply bg-primary text-white border border-primary px-10 py-5 font-semibold text-lg transition-all duration-300 hover:bg-primary-dark hover:border-primary-dark hover:-translate-y-0.5 focus:outline-none focus:ring-4 focus:ring-primary/20;
    border-radius: 30px;
    /* Скругление 30px */
  }

  .quiz-button-secondary {
    @apply bg-gray-50 text-gray-600 border border-gray-300 w-[50px] h-[50px] p-4 flex items-center justify-center transition-all duration-300 hover:bg-gray-100 hover:border-primary focus:outline-none;
    font-size: 1.5rem;
    border-radius: 30px;
    /* Скругление 30px */
  }

  /* Улучшение кнопок для мобильных */
  @media (max-width: 768px) {
    .quiz-button-secondary {
      width: 48px;
      height: 48px;
      min-width: 48px;
      min-height: 48px;
    }

    .quiz-button-primary {
      width: 100%;
      justify-content: center;
    }

    /* Адаптация полей ввода рядом со слайдерами на мобильных */
    .form-input.w-24 {
      width: 80px;
      min-width: 80px;
    }
  }

  /* Кнопка отзыва и перезапуска - стандартный размер по UI Tilda */
  .quiz-button-action {
    @apply bg-primary text-white border border-primary font-semibold transition-all duration-300 hover:bg-primary-dark hover:border-primary-dark hover:-translate-y-0.5 focus:outline-none focus:ring-4 focus:ring-primary/20;
    border-radius: 30px;
    /* font-size: 80% на html автоматически уменьшит на 20% */
    height: 56px;
    padding: 0 32px;
    font-size: 16px;
    line-height: 1.5;
    white-space: nowrap;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: auto;
    width: auto;
  }

  /* Оптимизация для разрешения 1680x900 */
  @media (min-width: 1680px) and (max-width: 1920px) {
    .quiz-button-action {
      height: 64px;
      padding: 0 40px;
      font-size: 18px;
    }
  }

  .step-heading {
    @apply text-center font-bold mt-12 mb-10 tracking-tight leading-tight;
    font-size: 3rem;
  }

  .step-heading::before {
    content: '';
    @apply block w-[80px] h-1.5 bg-primary mx-auto mb-6 rounded;
  }

  /* Увеличенные шрифты для текста */
  .step-description {
    @apply text-center text-gray-600 mb-10;
    font-size: 1.25rem;
    line-height: 1.7;
  }

  /* Увеличенные шрифты для лейблов - стандарт веб-UI: минимум 16px */
  .form-label {
    @apply block font-semibold mb-3;
    font-size: 1.125rem;
  }

  /* Описания под полями - стандарт: минимум 16px */
  .form-description {
    @apply text-gray-500 mb-3;
    font-size: 1rem;
    line-height: 1.6;
  }

  /* Мелкие подсказки - стандарт: минимум 14px */
  .form-hint {
    @apply text-gray-500;
    font-size: 0.875rem;
    line-height: 1.5;
  }

  /* Увеличенные инпуты */
  .form-input {
    @apply w-full px-5 py-4 border-2 border-gray-200 rounded-lg focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all outline-none;
    font-size: 16px; /* Минимум 16px для предотвращения авто-зума на мобильных */
    min-height: 48px; /* Минимальная высота для удобства на мобильных */
    height: 48px; /* Явная высота для выравнивания с select */
  }

  .form-select {
    @apply w-full px-5 py-4 border-2 border-gray-200 rounded-lg focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all outline-none;
    font-size: 16px; /* Минимум 16px для предотвращения авто-зума на мобильных */
    min-height: 48px; /* Минимальная высота для удобства на мобильных */
    height: 48px; /* Явная высота для выравнивания с input */
    appearance: none; /* Убираем браузерные стили по умолчанию */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
    background-position: right 0.5rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem; /* Отступ для иконки стрелки */
  }

  /* Кнопка закрытия в правом верхнем углу */
  .close-button {
    @apply absolute top-4 right-4 w-12 h-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 rounded-full transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-gray-300/50;
    z-index: 1000;
    border: 2px solid transparent;
  }

  .close-button:hover {
    @apply border-gray-300;
    transform: scale(1.1);
  }

  .close-button:active {
    transform: scale(0.95);
  }

  /* Адаптивность для кнопки закрытия */
  @media (max-width: 768px) {
    .close-button {
      @apply top-2 right-2 w-10 h-10;
    }

    .close-button svg {
      @apply w-5 h-5;
    }
  }
}